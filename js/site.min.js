jQuery(document).ready(function(a){function b(){a("nav").hasClass("nav--is-expanded")?d():c()}function c(){a("nav").removeClass("nav--is-invisible").addClass("nav--is-expanded"),window.setTimeout(function(){a("body").addClass("no_scroll")},200)}function d(){window.setTimeout(function(){a("body").removeClass()},10),a("nav").removeClass("nav--is-expanded"),a(".navigation a").attr("tabindex","-1"),a("icon").blur()}var e=0,f=54,g=650,h=6;a(window).scroll(function(){if(!a("nav").hasClass("nav--is-expanded")){var b=a(this).scrollTop(),c=Math.abs(b-e);b>f?(b>g&&(a("nav").hasClass("nav--is-detached")||a("nav").addClass("nav--is-detached")),c>=h&&(b>e?a("nav").hasClass("nav--is-invisible")||a("nav").addClass("nav--is-invisible"):a("nav").hasClass("nav--is-invisible")&&a("nav").removeClass("nav--is-invisible"))):0>=b&&a("nav").removeClass("nav--is-invisible nav--is-detached"),window.innerHeight+window.scrollY>=document.body.offsetHeight&&a("nav").removeClass("nav--is-invisible"),e=b}}),a(".menu-icon").on("click touchstart",function(a){b(),a.preventDefault()}),a(".menu-icon").on("click touchstart",function(a){a.stopPropagation()}),a("body").keydown(function(c){a("nav .icon").is(":focus")&&(13===c.keyCode||32===c.keyCode)&&(b(),c.preventDefault()),(27===c.keyCode||77===c.keyCode)&&(b(),c.preventDefault())})});